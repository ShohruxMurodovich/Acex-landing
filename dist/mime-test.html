<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIME Type Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
        }

        .test {
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }

        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
        }

        .error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
        }

        pre {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>

<body>
    <h1>MIME Type Diagnostics</h1>

    <div id="results"></div>

    <h2>Instructions to Fix:</h2>
    <div class="test">
        <h3>Option 1: cPanel MIME Types</h3>
        <p>If using cPanel:</p>
        <ol>
            <li>Login to cPanel</li>
            <li>Go to "MIME Types" or "Advanced" → "MIME Types"</li>
            <li>Add these MIME types:
                <pre>js        application/javascript
mjs       application/javascript
css       text/css</pre>
            </li>
        </ol>
    </div>

    <div class="test">
        <h3>Option 2: Contact Support</h3>
        <p>Contact your hosting provider and ask them to:</p>
        <ul>
            <li>Enable .htaccess support</li>
            <li>Set correct MIME type for .js files to "application/javascript"</li>
            <li>Remove any custom MIME type for .js that returns "text/vnd.trolltech.linguist"</li>
        </ul>
    </div>

    <script>
        const resultsDiv = document.getElementById('results');

        async function testFile(url, expectedType) {
            try {
                const response = await fetch(url);
                const contentType = response.headers.get('content-type');

                const isCorrect = contentType && contentType.includes(expectedType);

                return {
                    url,
                    contentType,
                    expectedType,
                    isCorrect,
                    status: response.status
                };
            } catch (error) {
                return {
                    url,
                    error: error.message,
                    isCorrect: false
                };
            }
        }

        async function runTests() {
            resultsDiv.innerHTML = '<p>Testing MIME types...</p>';

            const tests = [
                { url: '/assets/index-DndqFlY2.js', expected: 'application/javascript' },
                { url: '/assets/index-1LCW40_O.css', expected: 'text/css' }
            ];

            const results = [];
            for (const test of tests) {
                const result = await testFile(test.url, test.expected);
                results.push(result);
            }

            let html = '<h2>Test Results:</h2>';
            results.forEach(result => {
                const cssClass = result.isCorrect ? 'success' : 'error';
                html += `
          <div class="test ${cssClass}">
            <h3>${result.isCorrect ? '✓' : '✗'} ${result.url}</h3>
            <p><strong>Expected:</strong> ${result.expectedType || 'N/A'}</p>
            <p><strong>Got:</strong> ${result.contentType || result.error || 'Unknown'}</p>
            ${result.status ? `<p><strong>Status:</strong> ${result.status}</p>` : ''}
          </div>
        `;
            });

            resultsDiv.innerHTML = html;
        }

        runTests();
    </script>
</body>

</html>